<!DOCTYPE html>
<html>
  <head>
    <title>TeamSpeak Server</title>
    <link rel="shortcut icon" type="image/jpg" href="favicon.png" />
    <style>
      /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */
      html {
        line-height: 1.15;
        -webkit-text-size-adjust: 100%;
      }
      body {
        margin: 0;
      }
      main {
        display: block;
      }
      h1 {
        font-size: 2em;
        margin: 0.67em 0;
      }
      hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }
      pre {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      a {
        background-color: transparent;
      }
      abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        text-decoration: underline dotted;
      }
      b,
      strong {
        font-weight: bolder;
      }
      code,
      kbd,
      samp {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      small {
        font-size: 80%;
      }
      sub,
      sup {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }
      sub {
        bottom: -0.25em;
      }
      sup {
        top: -0.5em;
      }
      img {
        border-style: none;
      }
      button,
      input,
      optgroup,
      select,
      textarea {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }
      button,
      input {
        overflow: visible;
      }
      button,
      select {
        text-transform: none;
      }
      [type="button"],
      [type="reset"],
      [type="submit"],
      button {
        -webkit-appearance: button;
      }
      [type="button"]::-moz-focus-inner,
      [type="reset"]::-moz-focus-inner,
      [type="submit"]::-moz-focus-inner,
      button::-moz-focus-inner {
        border-style: none;
        padding: 0;
      }
      [type="button"]:-moz-focusring,
      [type="reset"]:-moz-focusring,
      [type="submit"]:-moz-focusring,
      button:-moz-focusring {
        outline: 1px dotted ButtonText;
      }
      fieldset {
        padding: 0.35em 0.75em 0.625em;
      }
      legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }
      progress {
        vertical-align: baseline;
      }
      textarea {
        overflow: auto;
      }
      [type="checkbox"],
      [type="radio"] {
        box-sizing: border-box;
        padding: 0;
      }
      [type="number"]::-webkit-inner-spin-button,
      [type="number"]::-webkit-outer-spin-button {
        height: auto;
      }
      [type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }
      [type="search"]::-webkit-search-decoration {
        -webkit-appearance: none;
      }
      ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }
      details {
        display: block;
      }
      summary {
        display: list-item;
      }
      template {
        display: none;
      }
      [hidden] {
        display: none;
      }
    </style>
    <style>
      body {
        background-color: #1d1b1b;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, Roboto,
          Helvetica Neue, Segoe UI, Arial, Noto Sans, sans-serif,
          Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
        color: #fff;
      }

      *,
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      p,
      span {
        color: #fff;
        font-size: 20px;
        font-weight: normal;
      }

      .success {
        color: #63fb72;
      }

      .text-muted {
        opacity: 0.8;
      }

      .text-small {
        font-size: 14px;
      }

      hr {
        width: 100%;
        height: 2px;
        background: #2f2c2c;
        border: none;
        margin: 40px 0;
      }

      .container {
        padding: 40px;
        max-width: 1440px;
        margin: auto;
      }
      .container.terminal-container {
        background-color: #101010;
        border-radius: 30px;
        margin-bottom: 40px;
      }

      .app-icon {
        border-radius: 20px;
      }

      .app {
        display: flex;
        margin: 20px 0 40px 0;
      }

      .app > .app-icon {
        flex-shrink: 0;
        height: 140px;
        width: 140px;
        box-shadow: 0 0 40px 0 rgba(0, 0, 0, 0.95);
        margin-right: 24px;
        background-color: white;
      }

      .app > .app-details > .app-status {
        display: block;
        font-size: 20px;
        margin: 10px 0 0 0;
      }

      .app > .app-details > .app-name {
        font-size: 52px;
        line-height: 52px;
        font-weight: bold;
        margin: 10px 0 0 0;
      }

      #terminal > iframe {
        border: 0px !important;
        position: relative !important;
        height: 70vh !important;
        width: 100% !important;
        max-width: 1360px !important;
      }

      /* Firefox iframe-ception fix */

      body.iframe {
        background-color: #101010;
      }

      body.iframe .app-container {
        display: none;
      }

      body.iframe .container.terminal-container {
        border-radius: 0;
        padding: 0;
        margin: 0;
      }

      .copy-button {
        border: none;
        background-color: transparent;
        cursor: pointer;
        padding: 5px;
        font-size: 20px;
      }

      .toast {
        visibility: hidden;
        min-width: 250px;
        margin-left: -125px;
        background-color: #717c55;
        color: #fff;
        text-align: center;
        border-radius: 10px;
        padding: 16px;
        position: fixed;
        z-index: 1;
        left: 50%;
        bottom: 30px;
        font-size: 17px;
      }

      .toast.show {
        visibility: visible;
        -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
        animation: fadein 0.5s, fadeout 0.5s 2.5s;
      }

      @-webkit-keyframes fadein {
        from {
          bottom: 0;
          opacity: 0;
        }
        to {
          bottom: 30px;
          opacity: 1;
        }
      }

      @keyframes fadein {
        from {
          bottom: 0;
          opacity: 0;
        }
        to {
          bottom: 30px;
          opacity: 1;
        }
      }

      @-webkit-keyframes fadeout {
        from {
          bottom: 30px;
          opacity: 1;
        }
        to {
          bottom: 0;
          opacity: 0;
        }
      }

      @keyframes fadeout {
        from {
          bottom: 30px;
          opacity: 1;
        }
        to {
          bottom: 0;
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <section class="container app-container">
      <div class="app">
        <img
          src="https://teamspeak.com/user/themes/teamspeak/images/favicon.png"
          class="app-icon"
          width="256"
          height="256"
        />
        <div class="app-details">
          <span class="app-status success">&#9679; Running</span>
          <h1 class="app-name">TeamSpeak Server</h1>
          <h2>
            Privilege Key:
            <button class="copy-button" onclick="copyPrivilegeKey()">
              <code id="privilege-key">${PRIVILEGE_KEY}</code>
              <svg
                width="13"
                height="13"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5 15C4.06812 15 3.60218 15 3.23463 14.8478C2.74458 14.6448 2.35523 14.2554 2.15224 13.7654C2 13.3978 2 12.9319 2 12V5.2C2 4.0799 2 3.51984 2.21799 3.09202C2.40973 2.71569 2.71569 2.40973 3.09202 2.21799C3.51984 2 4.0799 2 5.2 2H12C12.9319 2 13.3978 2 13.7654 2.15224C14.2554 2.35523 14.6448 2.74458 14.8478 3.23463C15 3.60218 15 4.06812 15 5M12.2 22H18.8C19.9201 22 20.4802 22 20.908 21.782C21.2843 21.5903 21.5903 21.2843 21.782 20.908C22 20.4802 22 19.9201 22 18.8V12.2C22 11.0799 22 10.5198 21.782 10.092C21.5903 9.71569 21.2843 9.40973 20.908 9.21799C20.4802 9 19.9201 9 18.8 9H12.2C11.0799 9 10.5198 9 10.092 9.21799C9.71569 9.40973 9.40973 9.71569 9.21799 10.092C9 10.5198 9 11.0799 9 12.2V18.8C9 19.9201 9 20.4802 9.21799 20.908C9.40973 21.2843 9.71569 21.5903 10.092 21.782C10.5198 22 11.0799 22 12.2 22Z"
                  stroke="rgba(255, 255, 255, 0.15)"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </h2>
        </div>
      </div>
      <p class="text-muted">Your TeamSpeak Server is successfully running!</p>
      <p class="text-muted">
        If you want to make this server accessible to the internet, make sure
        TCP ports 10011, 30033 and UDP port 9987 are forwarded to your Umbrel.
      </p>
      <p class="text-muted">
        No further action is required from your end other than keeping your
        Umbrel running.
      </p>
    </section>
    <div id="toast" class="toast">Privilege Key copied to clipboard!</div>
    <script>
      function copyPrivilegeKey() {
        const privilegeKey = document.getElementById("privilege-key").innerText;
        const textarea = document.createElement("textarea");
        textarea.value = privilegeKey;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand("copy");
        document.body.removeChild(textarea);

        showToast();
      }

      function showToast() {
        const toast = document.getElementById("toast");
        toast.className = "toast show";
        setTimeout(() => {
          toast.className = "toast";
        }, 3000);
      }
    </script>
  </body>
</html>
